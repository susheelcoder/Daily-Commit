<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Timer</title>

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:Poppins, sans-serif;
}

body{
    height:100vh;
    overflow:hidden;
    background:linear-gradient(135deg,#141e30,#243b55);
    color:#fff;
}

.container{
    height:100vh;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
}

/* DISPLAY */
.display{
    font-size:4rem;
    font-weight:700;
    margin-bottom:20px;
}

/* INPUT */
input{
    width:180px;
    padding:10px;
    font-size:1.2rem;
    text-align:center;
    border:none;
    border-radius:10px;
    outline:none;
    margin-bottom:20px;
}

/* BUTTONS */
.buttons{
    display:flex;
    gap:15px;
}

button{
    padding:12px 25px;
    border:none;
    border-radius:25px;
    font-size:1rem;
    font-weight:600;
    cursor:pointer;
    transition:0.3s;
}

.start{background:#00ff9d;}
.stop{background:#ff4d4d;color:#fff;}
.reset{background:#ffd633;}

button:hover{
    transform:scale(1.1);
}
</style>
</head>

<body>

<div class="container">

    <!-- TIME INPUT -->
    <input type="text" id="timeInput" value="00:00:00">

    <!-- DISPLAY -->
    <div class="display" id="display">00:00:00</div>

    <!-- BUTTONS -->
    <div class="buttons">
        <button class="start" onclick="startTimer()">Start</button>
        <button class="stop" onclick="stopTimer()">Stop</button>
        <button class="reset" onclick="resetTimer()">Restart</button>
    </div>

</div>

<script>
let timer;
let time = 0;
let mode = "up"; // up = stopwatch, down = countdown
let running = false;

/* FORMAT */
function format(t){
    let h = Math.floor(t / 3600);
    let m = Math.floor((t % 3600) / 60);
    let s = t % 60;
    return `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
}

/* PARSE HH:MM:SS */
function parseTime(str){
    let parts = str.split(":").map(Number);
    if(parts.length !== 3) return 0;
    return parts[0]*3600 + parts[1]*60 + parts[2];
}

/* START */
function startTimer(){
    if(running) return;

    let inputVal = document.getElementById("timeInput").value;
    let parsed = parseTime(inputVal);

    if(parsed > 0){
        time = parsed;
        mode = "down"; // countdown
    }else{
        time = time || 0;
        mode = "up"; // stopwatch
    }

    running = true;

    timer = setInterval(()=>{
        if(mode === "up"){
            time++;
        }else{
            if(time <= 0){
                stopTimer();
                return;
            }
            time--;
        }
        display.innerText = format(time);
    },1000);
}

/* STOP */
function stopTimer(){
    clearInterval(timer);
    running = false;
}

/* RESET */
function resetTimer(){
    stopTimer();
    time = 0;
    display.innerText = "00:00:00";
    document.getElementById("timeInput").value = "00:00:00";
}
</script>

</body>
</html>