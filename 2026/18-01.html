<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Professional Bhasha Janrera - Hindi English Translator">
    <title>Bhasha Janrera Pro</title>
    
    <style>
        :root { --primary: #2563eb; --bg: #f8fafc; --text: #1e293b; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: sans-serif; }

        body { background: var(--bg); color: var(--text); min-height: 100vh; display: flex; flex-direction: column; }

        /* Header & 3-Dot Menu */
        header { 
            background: #fff; padding: 15px 20px; 
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05); position: relative;
        }

        .menu-dots { cursor: pointer; font-size: 24px; padding: 5px; }
        
        .dropdown {
            position: absolute; top: 50px; right: 20px; background: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1); border-radius: 8px;
            display: none; flex-direction: column; width: 150px; z-index: 100;
        }
        .dropdown a { 
            padding: 12px; text-decoration: none; color: #333; font-size: 14px; 
            border-bottom: 1px solid #f1f1f1; 
        }
        .dropdown a:hover { background: #f8fafc; }

        /* Main Content */
        main { flex: 1; display: flex; justify-content: center; align-items: center; padding: 15px; }
        .card { background: #fff; width: 100%; max-width: 900px; padding: 20px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); }

        .grid { display: grid; grid-template-columns: 1fr; gap: 20px; }
        @media (min-width: 768px) { .grid { grid-template-columns: 1fr 50px 1fr; align-items: center; } }

        .box { display: flex; flex-direction: column; gap: 8px; }
        .label { font-weight: bold; color: var(--primary); font-size: 12px; letter-spacing: 1px; }

        textarea, .res-div { 
            width: 100%; height: 160px; padding: 15px; border: 2px solid #e2e8f0; 
            border-radius: 12px; font-size: 18px; outline: none; resize: none; 
        }
        .res-div { background: #f8fafc; border-left: 4px solid var(--primary); overflow-y: auto; }

        .btns { display: flex; gap: 8px; margin-top: 5px; }
        .b-sm { flex: 1; padding: 10px; border: 1px solid #cbd5e1; border-radius: 8px; background: #fff; cursor: pointer; }

        .swap-btn { width: 45px; height: 45px; background: var(--primary); color: white; border: none; border-radius: 50%; cursor: pointer; font-size: 20px; margin: 0 auto; }
        .main-btn { grid-column: 1 / -1; background: var(--primary); color: white; border: none; padding: 16px; border-radius: 12px; font-size: 18px; font-weight: bold; cursor: pointer; margin-top: 10px; }

        /* About Overlay */
        #overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); color: white; display: none;
            justify-content: center; align-items: center; z-index: 1000;
            padding: 20px; text-align: center;
        }
        .close-btn { position: absolute; top: 20px; right: 20px; font-size: 30px; cursor: pointer; }

        .mic-on { background: #ef4444 !important; color: white; }
    </style>
</head>
<body>

    <header>
        <h2 style="color: var(--primary);">Bhasha Janrera</h2>
        <div class="menu-dots" onclick="toggleMenu()">‚ãÆ</div>
        <div class="dropdown" id="myDropdown">
            <a href="javascript:void(0)" onclick="showAbout()">‚ÑπÔ∏è About Us</a>
            <a href="#">üõ†Ô∏è Settings</a>
            <a href="#">üìÑ Privacy</a>
        </div>
    </header>

    <main>
        <div class="card">
            <div class="grid">
                <div class="box">
                    <div class="label" id="L1">ENGLISH</div>
                    <textarea id="inp" placeholder="Kuch likhein..."></textarea>
                    <div class="btns">
                        <button class="b-sm" onclick="startMic()" id="mBtn">üé§ Mic</button>
                        <button class="b-sm" onclick="playVoice('input')">üîä Listen</button>
                    </div>
                </div>

                <div style="text-align: center;"><button class="swap-btn" onclick="swap()">‚áÑ</button></div>

                <div class="box">
                    <div class="label" id="L2">HINDI</div>
                    <div class="res-div" id="out">Anuvaad...</div>
                    <div class="btns">
                        <button class="b-sm" onclick="playVoice('output')">üîä Listen</button>
                        <button class="b-sm" onclick="copy()">üìã Copy</button>
                    </div>
                </div>

                <button class="main-btn" onclick="doTranslate()">Translate Now</button>
            </div>
        </div>
    </main>

    <div id="overlay">
        <span class="close-btn" onclick="hideAbout()">&times;</span>
        <div style="max-width: 500px;">
            <h2>Bhasha Janrera Pro</h2>
            <p style="margin-top: 20px;">Yeh ek high-speed AI translator hai jo Google Translate API use karta hai. Ise khaas karke mobile aur laptop dono ke liye design kiya gaya hai.</p>
            <p style="margin-top: 15px; color: #aaa;">Version 3.1 | Made for Fast Usage</p>
        </div>
    </div>

    <script>
        let isEn = true;
        const Speech = window.SpeechRecognition || window.webkitSpeechRecognition;
        const rec = Speech ? new Speech() : null;

        function toggleMenu() {
            const d = document.getElementById('myDropdown');
            d.style.display = d.style.display === 'flex' ? 'none' : 'flex';
        }

        // Close menu when clicking outside
        window.onclick = (e) => { if (!e.target.matches('.menu-dots')) document.getElementById('myDropdown').style.display = 'none'; }

        function showAbout() { document.getElementById('overlay').style.display = 'flex'; }
        function hideAbout() { document.getElementById('overlay').style.display = 'none'; }

        function swap() {
            isEn = !isEn;
            document.getElementById('L1').innerText = isEn ? "ENGLISH" : "HINDI";
            document.getElementById('L2').innerText = isEn ? "HINDI" : "ENGLISH";
        }

        async function doTranslate() {
            const txt = document.getElementById('inp').value;
            const res = document.getElementById('out');
            if(!txt.trim()) return;
            res.innerText = "Processing...";
            try {
                const s = isEn ? 'en' : 'hi', t = isEn ? 'hi' : 'en';
                const r = await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=${s}&tl=${t}&dt=t&q=${encodeURIComponent(txt)}`);
                const d = await r.json();
                res.innerText = d[0].map(x => x[0]).join('');
            } catch(e) { res.innerText = "Error!"; }
        }

        function startMic() {
            if(!rec) return alert("Browser error");
            rec.lang = isEn ? 'en-US' : 'hi-IN';
            rec.start();
            document.getElementById('mBtn').classList.add('mic-on');
            rec.onresult = (e) => { document.getElementById('inp').value = e.results[0][0].transcript; doTranslate(); };
            rec.onend = () => document.getElementById('mBtn').classList.remove('mic-on');
        }

        function playVoice(type) {
            const t = type === 'input' ? document.getElementById('inp').value : document.getElementById('out').innerText;
            if(!t) return;
            const u = new SpeechSynthesisUtterance(t);
            u.lang = type === 'input' ? (isEn ? 'en-US' : 'hi-IN') : (isEn ? 'hi-IN' : 'en-US');
            window.speechSynthesis.speak(u);
        }

        function copy() { navigator.clipboard.writeText(document.getElementById('out').innerText); alert("Copied!"); }
    </script>
</body>
</html>
