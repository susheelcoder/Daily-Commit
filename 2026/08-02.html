<div id="timer-display" style="font-size: 2rem; font-family: monospace;">
  Loading...
</div>

<script>
function initTimer() {
    const durationInMinutes = 30;
    const storageKey = 'my_website_deadline';
    
    // Step 1: Check karein ki kya pehle se deadline saved hai
    let deadline = localStorage.getItem(storageKey);

    if (!deadline) {
        // Agar nahi hai, toh abhi se 30 min aage ka time set karein
        deadline = new Date().getTime() + (durationInMinutes * 60 * 1000);
        localStorage.setItem(storageKey, deadline);
        console.log("Naya timer set kiya gaya.");
    } else {
        console.log("Purana timer mil gaya, wahi se continue kar rahe hain.");
    }

    const timerElement = document.getElementById("timer-display");

    const x = setInterval(function() {
        const now = new Date().getTime();
        const distance = deadline - now;

        // Time calculations
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        // Result display karein
        timerElement.innerHTML = (minutes < 10 ? "0" + minutes : minutes) + ":" + 
                                 (seconds < 10 ? "0" + seconds : seconds);

        // Agar time khatam ho jaye
        if (distance < 0) {
            clearInterval(x);
            timerElement.innerHTML = "EXPIRED";
            localStorage.removeItem(storageKey);
        }
    }, 1000);
}

// Page load hote hi function chalayein
document.addEventListener('DOMContentLoaded', initTimer);
</script>
